Hashing

a) We've seen how to improve search by knowing about structures beforehand.
b) We can build a data structure that can be searched in O(1) time.
c) This concept is referred to as hashing.

Hashtable

a) A hash table is a collection of items which are stored in such a way as to make it easy to find them later.
b) Each position of the hash table, slots, can hold an item and is named by an integer value starting at 0.
c) For example, we will have a slot named 0, a slot named 1, a slot named 2, and so.
d) Initially, the hash table contains no items so every slot is empty.4
e) We can implement a hash table by using a list with each element initialized to the special Python value None.
f) The mapping between an item and the slot where that item belongs in the hash table is called the hash function.
g) The hash function will take any item in the collection and return an integer in the range of slot names, between 0 and m-1.

Hash Function - Remainder Method

a) One hash function we can use is the remainder method.
b) When presented with an item, the hash function is the item divided by the table size, this is then its slot number.
c) Assume that we have the set of integer items 54, 26, 93, 17, 77, and 31.
d) We've preasssigned an empty hash table of size m=11.
e) Our remainder hash function then is: h(item) = item % 11
f) Result --> 54 -> 10, 26 -> 4, 93 -> 5, 17 -> 6, 77 -> 0, 31 -> 9
g) We're ready to occupy 6 out of the 11 slots.
h) This is referred to as the load factor, and is commonly denoted by lambda=(numberofitems/tablesize).
i) For this example. lambda = 6/11
j) When we want to search for an item, we simply use the hash function to compute the slot name for the item and then check the hash table
to see if it is present.
k) This searching operation is O(1), since a constant amount of time is required to compute the hash value and then index the hash table
at that location.
l) You might be thinking, what if you have two items that would result in the same location?
m) For example 44 % 11 and 77 % 11 are the same.
n) This is known as a collision (also known as a clash).
o) A hash function that maps each item into a unique slot is referred to as a perfect hash function.
p) Our goal is to create a hash function that minimizes the number of collisions, is easy to compute, and evenly distributes the items
in the hash table.

Hash Fucntion - Folding Method

a) The folding method for constructing hash functions begins by dividing the item into equal-size pieces (the last piece may not be of
equal size).
b) These pieces are then added together to give the resulting hash value.
c) If our item was the phone number 436-555-4601
d) We would take the digits and divide them into groups of 2 (43,65, 55, 46, 01)
e) After the addition, 43+65+55+46+01, we get 210.
f) If we assume our hash table has 11 slots, then we need to perform the extra step of dividing by 11 and keeping the remainder.
g) 210 % 11 is 1, so the phone number 436-555-4601 hashes to slot 1.

Hash Function - Mid Square Method

a) For the mid-squared method, we first square the item, and then extract some portion of the resuting digits.
b) For example, if the item were 44, we would first compute 44square = 1936
c) By extracting the middle two digits, 93, and performing the remainder step, we get 93 % 11 = 5
d) Result --> 54 -> 3, 26 -> 7, 93 -> 9, 17 -> 8, 77 -> 4, 31 -> 6

Non Integer Elements

a) We can also create hash functions for character-based items such as strings.
b) The word 'cat' can be thought of as a sequence of ordinal values. Example: c --> 99, a --> 97, t --> 116

Collision Resolution

a) One method for resolving collisions looks into the hash table and tries to find another open slot to hold the item that caused the
collision.
b) We could start at the original hash value position and then move in a sequential manner through the slots until we encounter the first
slot that is empty.
c) This collision resolution process is referred to as open addressing in that it tries to find the next open slot or address in the
hash table.
d) By systematically visiting each slot one at a time, we are performing an open addressing technique called linear probing.
e) With linear probing we keep moving down until we find an empty slot.
f) One way to deal with clustering is to skip slots, thereby more evenly distributing the items that have caused collisions.
g) The general name for this process of looking for another slot after a collision is rehashing.
h) A variation of the linear probing idea is called quadratic probing.
i) Instead of using a constant 'skip' value, we use a rehash function that increments the hash value by 1, 3, 5, 7, 9 and so on.
j) This means if the first hash value is h, the successive values are h+1, h+4, h+9, h+16, and so on.
k) An alternative method of handling the collision problem is to allow each slot to hold a reference to a collection (or chain) of items.
l) Chaining allows many items to exist at the same location in the hash table.
m) When collisions happen, the item is still placed in the proper slot of the hash table.
n) As more and more items hash to the same location, the difficulty of searching for the item in the collection increases.